[tools]
rust = { version = "latest", components = "rustfmt,clippy" }
gh = "latest"
cocogitto = "latest"
"cargo:cargo-edit" = "latest"

[tasks.test]
description = "Run all tests"
run = "cargo test"

[tasks."test:unit"]
description = "Run unit tests only"
run = "cargo test --lib"

[tasks."test:integration"]
description = "Run integration tests only"
run = "cargo test --test '*'"

[tasks.install]
description = "Build and install celsp binary to PATH"
run = "cargo install --path ."

[tasks."version:bump"]
description = "Bump version based on conventional commits"
run = "cog bump --auto"

[tasks."version:bump-dry-run"]
description = "Show what version bump would occur"
run = "cog bump --auto --dry-run"
